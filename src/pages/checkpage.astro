---
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏ –ø–æ IP
async function getLocationInfo() {
  try {
    const response = await fetch("https://ipapi.co/json/");
    const data = await response.json();
    return {
      city: data.city,
      country: data.country_name,
      ip: data.ip,
    };
  } catch (error) {
    return {
      city: "Unknown",
      country: "Unknown",
      ip: "Unknown",
    };
  }
}

// –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞
const locationInfo = await getLocationInfo();
const serverTime = new Date().toLocaleString("ru-RU", {
  timeZone: "Europe/Moscow",
});

// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–ª—è —ç—Ç–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
const requestId = crypto.randomUUID();
---

<div class="server-info-container">
  <h2>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å —Å–µ—Ä–≤–µ—Ä–∞</h2>

  <div class="info-block">
    <h3>üïí –í—Ä–µ–º—è —Å–µ—Ä–≤–µ—Ä–∞:</h3>
    <p>{serverTime}</p>
  </div>

  <div class="info-block">
    <h3>üìç –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏:</h3>
    <p>–ì–æ—Ä–æ–¥: {locationInfo.city}</p>
    <p>–°—Ç—Ä–∞–Ω–∞: {locationInfo.country}</p>
    <p>IP: {locationInfo.ip}</p>
  </div>

  <div class="info-block">
    <h3>üîë ID –∑–∞–ø—Ä–æ—Å–∞:</h3>
    <p>{requestId}</p>
  </div>

  <div class="info-footer">
    <p>–≠—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –±—ã–ª–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤ –º–æ–º–µ–Ω—Ç –∑–∞–ø—Ä–æ—Å–∞.</p>
    <p>–ü—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–Ω–æ–º SSR —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –∏–ª–∏ –Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω—ã.</p>
  </div>
</div>

<style>
  .server-info-container {
    border: 2px solid #e0e0e0;
    border-radius: 8px;
    padding: 20px;
    margin: 20px;
    max-width: 600px;
    background-color: #f9f9f9;
  }

  .info-block {
    margin: 15px 0;
    padding: 10px;
    border-left: 3px solid #2c3e50;
    background-color: white;
  }

  h2 {
    color: #2c3e50;
    border-bottom: 2px solid #2c3e50;
    padding-bottom: 10px;
  }

  h3 {
    color: #34495e;
    margin: 5px 0;
  }

  .info-footer {
    margin-top: 20px;
    padding-top: 10px;
    border-top: 1px solid #e0e0e0;
    font-size: 0.9em;
    color: #666;
  }
</style>
